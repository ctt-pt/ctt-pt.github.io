<!DOCTYPE html>
<html lang="pt" dir="ltr">
<head>
  <title>GEF - Participação de Sinistros</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body onload="mostrar()">

  <style>
  .notification-message-unread {
    width: 1024px;
    font-family: arial;
    background-color: rgb(222,0,0);
    color: white;
    padding: 10px;
    font-family: arial;
    font-weight: bold;
    font-size: 40px;
    animation: blinker 1s linear infinite;
  }
  @keyframes blinker {
    50% {
      background-color: white;
    }
  }
  img.ie{
    display: block;
    padding-left: 51px;
    padding-right: 51px;
    padding-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
    background-color: rgb(222,0,0);
    animation: blinker 1s linear infinite;
  }
  img.veiculo {
    width: 400px;
  }
  .caixa {
    height: 100px;
    width: 80px;
    -border-style: solid;
    padding-top: 25px;
    padding-bottom: 25px;
    margin-right: 0;
    margin-left: 0;
    -margin-top: 15px;
  }
  .caixa2 {
    height: 100px;
    width: 130px;
    -border-style: solid;
    padding-top: 25px;
    padding-bottom: 25px;
    margin-right: 0;
    margin-left: 0;
    margin-top: 45px;
  }
  .grid1 {
    width: 1000px;
  }
  .grid2 {
    width: 650px;
  }
  div.pagina {
    max-width: 1024px;
    margin: auto;
  }

  div.foot {
    padding: 10px;
    font-family: arial;
    font-size: 8px;
  }

  div.grafico {
    -padding: 10px;
    -font-family: arial;
    -font-size: 8px;
    margin-left: 140px;
  }


  input[type=checkbox] {
    margin-TOP: 15px;
    margin-left: 10px;
    transform: scale(1.3);
  }




  .desc3 {
    width: 1021px;
    font-family: arial;
    -background-color: rgb(222,0,0);
    color: white;
    padding: 10px;
    font-family: arial;
    font-weight: bold;
  }
  form.individual2 {
    width: 997px;
    padding-top: 10px;
  }
  textarea.desc {
    float: right;
    font-family: arial;
    width: 760px;
  }
  textarea.obs {
    ;width: 1021px;
    height:100%;
  }


  img.meca {
    float: right;
    width: 300px;
  }
  form.caixa1 {
    border: 2px solid red;
    border-radius: 4px;
  }
  form.longo {
    width: 1024px;
    padding-top: 10px;
  }
  form.médio {
    width: 600px;
    padding-top: 10px;
  }
  form.curto {
    width: 450px;
    padding-top: 10px;
  }
  form.curto2 {
    width: 460px;
    padding-top: 10px;
  }
  form.curto3 {
    width: 310px;
    padding-top: 10px;
  }
  form.curto4 {
    width: 360px;
    padding-top: 10px;
  }
  form.data1 {
    width: 410px;
    padding-top: 10px;
  }
  form.data2 {
    width: 430px;
    padding-top: 4px;
  }
  form.meca {
    width: 404px;
    padding-top: 10px;
  }
  div.individual {
    width: 240px;
    background-color: rgb(222,0,0);
    color: white;
    padding: 5px;
    font-family: arial;
    font-weight: bold;
  }
  div.legenda {
    -width: 240px;
    -background-color: rgb(222,0,0);
    -color: white;
    padding: 5px;
    font-family: arial;
    font-weight: bold;
    font-size: 10px;
    float: right;
  }
  div.matrícula {
    -width: 200px;
    -background-color: rgb(222,0,0);
    -color: white;
    padding-top: 0px;
    margin-right: 10px;
    margin-left: 0px;
    font-family: arial;
    font-weight: bold;
    font-size: 20px;
    float: right
  }
  div.submeter {
    width: 200px;
    background-color: rgb(222,0,0);
    color: white;
    padding: 10px;
    font-family: arial;
    font-weight: bold;
    cursor: pointer;
  }
  div.desc {
    width: 1024px;
    font-family: arial;
    background-color: rgb(0,0,0);
    color: white;
    padding: 5px;
    font-family: arial;
    font-weight: bold;
  }
  div.desc2 {
    ;width: 1021px;
    font-family: arial;
    background-color: rgb(222,0,0);
    color: white;
    padding: 5px;
    font-family: arial;
    font-weight: bold;
    margin-left: 0px;
  }
  div.global {
    width: 800px;
    -border-style: solid;
    border-width: 5px;
  }
  textarea.obs {
    ;width: 1021px;
    height:100%;
  }
  input.longo {
    width: 774px;
    height: 30px;
    padding: 5px;
    float: right;
    -text-transform: capitalize;
  }
  input.médio {
    width: 350px;
    height: 30px;
    padding: 5px;
    float: right;
    -text-transform: capitalize;
  }
  input.curto {
    width: 200px;
    height: 30px;
    padding: 10px;
    float: right
  }
  input.curto2 {
    width: 45px;
    height: 30px;
    padding: 10px;
    margin-right: 10px;
    float: right
  }
  input.curto3 {
    width: 58px;
    height: 30px;
    padding: 10px;
    margin-right: 10px;
    float: right
  }
  input.curto4 {
    width: 100px;
    height: 30px;
    padding: 10px;
    margin-right: 10px;
    float: right
  }
  select {
    width: 200px;
    height: 30px;
    -padding: 10px;
    float: right
  }
  select.escolha2 {
    width: 60px;
    height: 30px;
    -padding: 10px;
    float: right
  }
  </style>

  <script type="text/javascript">

  function mostrar() {
    terceiroMostrar.style.display = "none";
    terceiroNome.style.display = "none";
    terceiroMatrícula.style.display = "none";
    terceiroCompanhia.style.display = "none";
    terceiroApólice.style.display = "none";

    permissão.style.display = "none";
    permissãoie.style.display = "none";

    var e = document.getElementById("terceiro");
    var value = e.options[e.selectedIndex].value;
    var terceiro = e.options[e.selectedIndex].text;
    //alert("terceiro: "+terceiro);
    if (terceiro == "Sim")
    {
      terceiroMostrar.style.display = "block";
      terceiroNome.style.display = "block";
      terceiroMatrícula.style.display = "block";
      terceiroCompanhia.style.display = "block";
      terceiroApólice.style.display = "block";
    }
    if (terceiro == "Não")
    {
      terceiroMostrar.style.display = "none";
      terceiroNome.style.display = "none";
      terceiroMatrícula.style.display = "none";
      terceiroCompanhia.style.display = "none";
      terceiroApólice.style.display = "none";
    }

    if (nome != "" && mec != "" && matrícula != "" && danos !="" && descrição != "") {
      document.getElementById("submeterPedido").style.backgroundColor = "rgb(222,0,0)";
    }
    else {
      document.getElementById("submeterPedido").style.backgroundColor = "#bbb";
    }

  }




  function submeter() {
    var erro = ""

    //validação da data
    var anoAtual = new Date().getFullYear();
    var mêsAtual = new Date().getMonth()+1
    var diaAtual = new Date().getDate();

    var ano = document.getElementById("ano").value;
    var mês = document.getElementById("mês").value;
    var dia = document.getElementById("dia").value;
    var tamAno = ano.length
    var tamMês = mês.length
    var tamDia = dia.length
    if (ano){
      if (ano>anoAtual || ano<2018){
        var erro = erro+"\n"+"ano <2018 ou > "+anoAtual
      }
      if (tamAno != 4){
        var erro = erro+"\n"+"ano não tem 4 algarismos "+tamAno
      }
    }
    else {
      var erro = erro+"\n"+"Ano não está preenchido"
    }

    if (mês){
      if (mês>12 || mês<1){
        var erro = erro+"\n"+"mês inválido"
      }
    }
    else {
      var erro = erro+"\n"+"Mês não está preenchido"
    }

    if (dia){
      if (dia>31 || dia<1){
        var erro = erro+"\n"+"dia inválido"
      }
    }
    else {
      var erro = erro+"\n"+"Dia não está preenchido"
    }

    //validação de número mecanográfico
    var mecanográfico = document.getElementById("nmec").value;
    if (mecanográfico.length<7){
      var mecanográfico = ""
    }
    if (mecanográfico.length > 6){
      var mec1 = mecanográfico.substring(0,1)
      var mec1 = mec1.toUpperCase()
      if (mec1 == "P"){
        var mec2 = mecanográfico.substring(mecanográfico.length-4,mecanográfico.lenght)
        var mecanográfico = "980"+mec2
      }
      else
      if (mec1 == "B"){
        var mec2 = mecanográfico.substring(mecanográfico.length-4,mecanográfico.lenght)
        var mecanográfico = "914"+mec2
      }
      else
      if (mec1 == "T"){
        var mec2 = mecanográfico.substring(mecanográfico.length-4,mecanográfico.lenght)
        var mecanográfico = "915"+mec2
      }
      else
      if (mec1 == "M"){
        var mec2 = mecanográfico.substring(mecanográfico.length-5,mecanográfico.lenght)
        var mecanográfico = "97"+mec2
      }
      else
      if (mec1 == "X"){
        var mec2 = mecanográfico.substring(mecanográfico.length-5,mecanográfico.lenght)
        var mecanográfico = "94"+mec2
      }
      else
      if (mec1 == "G"){
        var mec2 = mecanográfico.substring(mecanográfico.length-6,mecanográfico.lenght)
        var mecanográfico = "5"+mec2
      }
    }
    if (mecanográfico.length<7 || mecanográfico.length>7){
      var erro = erro+"\n"+"Número mecanográfico inválido"
      //document.getElementById("nmec").value=""
    }


    var nctt = document.getElementById("nctt").value;
    if (nctt){
    }
    else {
      var erro = erro+"\n"+"N.º de veículo não indicado"
    }

    var danos = document.getElementById("danos").value;
    if (danos){
    }
    else {
      var erro = erro+"\n"+"Danos não indicados"
    }

    var descrição = document.getElementById("descrição").value;
    if (descrição){
    }
    else {
      var erro = erro+"\n"+"Descrição não preenchida"
    }

    var e = document.getElementById("terceiro");
    var value = e.options[e.selectedIndex].value;
    var terceiro = e.options[e.selectedIndex].text;
    if (terceiro == "Sim"){
      var nomeTerceiro = document.getElementById("nomeTerceiro").value;
      if (nomeTerceiro){
      }
      else {
        var erro = erro+"\n"+"Nome do outro condutor não preenchido"
      }
      var mat1 = document.getElementById("mat1").value;
      var mat1 = mat1.toUpperCase()
      var mat2 = document.getElementById("mat2").value;
      var mat2 = mat2.toUpperCase()
      var mat3 = document.getElementById("mat3").value;
      var mat3 = mat3.toUpperCase()
      if (mat1 == "" || mat2 == "" || mat3 == ""){
        var erro = erro+"\n"+"Matrícula do terceiro não está completa"
      }
      else {
        var matrícula = mat1+"-"+mat2+"-"+mat3
      }
      var companhia = document.getElementById("companhia").value;
      if (companhia){
      }
      else {
        var erro = erro+"\n"+"Companhia de seguros não indicada"
      }
      var apólice = document.getElementById("apólice").value;
      if (apólice){
      }
      else {
        var erro = erro+"\n"+"Apólice não indicada"
      }
    }
    else {
      var nomeTerceiro = "Não existe terceiro"
      var matrícula = "Não existe terceiro"
      var companhia = "Não existe terceiro"
      var apólice = "Não existe terceiro"
    }

    var e = document.getElementById("autoridade");
    var value = e.options[e.selectedIndex].value;
    var autoridade = e.options[e.selectedIndex].text;

    var e = document.getElementById("declaração");
    var value = e.options[e.selectedIndex].value;
    var declaração = e.options[e.selectedIndex].text;

    var e = document.getElementById("acidente");
    var value = e.options[e.selectedIndex].value;
    var acidente = e.options[e.selectedIndex].text;

    var e = document.getElementById("culpa");
    var value = e.options[e.selectedIndex].value;
    var culpa = e.options[e.selectedIndex].text;

    if (erro !=""){
      alert (erro)
    }
    else {
      var assunto = "mailto: paulo.j.machado"+"@"+"ctt.pt"+"?subject=SINISTRO "+encodeURIComponent(nctt)+" - "+encodeURIComponent(ano)+"/"+encodeURIComponent(mês)+"/"+encodeURIComponent(dia);
      var corpo = "&body=■ PARTICIPAÇÃO DE SINISTRO"+"%0D%0A%0D%0ADEVE ADICIONAR OS ANEXOS ANTES DE ENVIAR O EMAIL!%0D%0A_______________________________________________";
      var corpo = corpo + "%0D%0A%0D%0A►Data: "+encodeURIComponent(ano)+encodeURIComponent(mês)+encodeURIComponent(dia)+"%0D%0A►N.º Mecanográfico: "+encodeURIComponent(mecanográfico)+"%0D%0A►Veículo: "+encodeURIComponent(nctt);
      var corpo = corpo+"%0D%0A►Intervenção da Autoridade: "+encodeURIComponent(autoridade)+"%0D%0A►Declaração amigável: "+encodeURIComponent(declaração)+"%0D%0A►Acidente laboral: "+encodeURIComponent(acidente)+"%0D%0A►% de culpa do condutor: "+encodeURIComponent(culpa)+"%0D%0A►Danos no veículo: "+encodeURIComponent(danos)+"%0D%0A►Descrição: "+encodeURIComponent(descrição);
if (terceiro == "Sim"){
  var corpo = corpo+"%0D%0A%0D%0A►Acidente com terceiro: "+encodeURIComponent(terceiro)+"%0D%0A►Nome do condutor: "+encodeURIComponent(nomeTerceiro)+"%0D%0A►Matrícula: "+encodeURIComponent(matrícula)+"%0D%0A►Companhia de seguros: "+encodeURIComponent(companhia)+"%0D%0A►Apólice: "+encodeURIComponent(apólice);
}
else {
  var corpo = corpo+"%0D%0A%0D%0A►Acidente com terceiro: "+encodeURIComponent(terceiro)+"%0D%0A►Nome do condutor: não existe terceiro%0D%0A►Matrícula: não existe terceiro%0D%0A►Companhia de seguros: não existe terceiro%0D%0A►Apólice: não existe terceiro";
}
var corpo = corpo + "%0D%0A_______________________________________________";

//var corpo= corpo + "%0D%0A%0D%0A%0D%0A%0D%0A____________________________________________%0D%0ADEVE ADICIONAR OS ANEXOS ANTES DE ENVIAR O EMAIL";
      //var corpo = "&body=■ PARTICIPAÇÃO DE SINISTRO"+"%0D%0A%0D%0AData: "+encodeURIComponent(ano)+encodeURIComponent(mês)+encodeURIComponent(dia)+"%0D%0AN.º Mecanográfico: "+encodeURIComponent(mecanográfico)+"%0D%0AVeículo: "+encodeURIComponent(ctt)+"%0D%0AIntervenção da Autoridade: "+encodeURIComponent(autoridade)+"%0D%0A%0D%0A%0D%0A%0D%0A____________________________________________%0D%0ADEVE ADICIONAR OS ANEXOS ANTES DE ENVIAR O EMAIL";
      var email = assunto+corpo;
      window.location.href = email;
    }
  }
  </script>

  <!---------------------------------------------------------------página-->
  <div class="pagina">
    <br>
    <img src="sinistro-banner.jpg" alt="" id="banner">
    <br><br>
    </<div class="">
      <div class="notification-message-unread" id="permissão" align="center" >
        ESTE FORMULÁRIO NECESSITA DE PERMISSÃO PARA EXECUTAR SCRIPTS!
      </div>
      <img src="ie.jpg" alt="" class="ie" id="permissãoie">

      <!---------------------------------------------------------------veículo-->
      <form class="longo" action="index.html" method="post">

        <div class="desc" id="descZona" align="left">
          DADOS DO SINISTRO
        </div>
      </form>
      <div class="global">
        <!---------------------------------------------------------------matrícula-->
        <form class="data1" action="index.html" method="post">
        </----div class="legenda" id="descZona">
        </----    ANO &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp MÊS &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp DIA
      </---div>
        </form>


        <form class="data2" action="index.html" method="post">
          <input class="curto2" type="text" name="" value="" id="dia" oninput="mostrar()" title="Formato da data:&#13;AAAA-MM-DD" maxlength="2">
          <input class="curto2" type="text" name="" value="" id="mês" oninput="mostrar()" title="Formato da data:&#13;AAAA-MM-DD" maxlength="2">
          <input class="curto3" type="text" name="" value="" id="ano" oninput="mostrar()" title="Formato da data:&#13;AAAA-MM-DD" maxlength="4">
          <div class="individual" id="descZona">
            DATA (AAAA-MM-DD)
          </div>

        </form>
        <!---------------------------------------------------------------mecanografico-->
      </-----img class="meca" src="meca.jpg" alt=""--->

      <form class="curto4" action="index.html" method="post">
        <input class="curto4" type="text" name="" value="" id="nmec" oninput="mostrar()" title="Conversão de n.º Mecanográfico&#13;X0xxxxx -> 94xxxxx&#13;PSHxxxxx -> 980xxxxx" maxlength="7">
        <div class="individual" id="descZona">
          N.º MECANOGRÁFICO
        </div>
      </form>


      <!---------------------------------------------------------------mecanografico-->
      <form class="curto4" action="index.html" method="post">
        <input class="curto4" type="text" name="" value="" id="nctt" oninput="mostrar()" title="Conversão de n.º Mecanográfico&#13;X0xxxxx -> 94xxxxx&#13;PSHxxxxx -> 980xxxxx" maxlength="8">
        <div class="individual" id="descZona">
          N.º CTT (VEÍCULO)
        </div>
      </form>
      <! ------------------------------------------------------------- OBJ CC -->
      <form class="curto" action="index.html" method="post" id="cc">
        <select class="escolha" name="Piso" id="autoridade" onchange="mostrar()" onfocus="infoEspecialidade()">
          <option value="">Não</option>
          <option value="">Sim</option>
        </select>
        <div class="individual" id="descObjetoCC">
          INTERVENÇÃO AUTORIDADE
        </div>
      </form>
      <! ------------------------------------------------------------- OBJ CC -->
      <form class="curto" action="index.html" method="post" id="cc">
        <select class="escolha" name="Piso" id="declaração" onchange="mostrar()" onfocus="infoEspecialidade()">
          <option value="">Não</option>
          <option value="">Sim</option>
        </select>
        <div class="individual" id="descObjetoCC">
          DECLARAÇÃO AMIGÁVEL
        </div>
      </form>
      <! ------------------------------------------------------------- OBJ CC -->
      <form class="curto" action="index.html" method="post" id="cc">
        <select class="escolha" name="Piso" id="acidente" onchange="mostrar()" onfocus="infoEspecialidade()">
          <option value="">Acidente de Trabalho</option>
          <option value="">Acidente de Serviço</option>
        </select>
        <div class="individual" id="descObjetoCC">
          ACIDENTE LABORAL
        </div>
      </form>
      <!---------------------------------------------------------------mecanografico-->
      <form class="curto3" action="index.html" method="post">
        <select class="escolha2" name="Piso" id="culpa" onchange="mostrar()" onfocus="infoEspecialidade()">
          <option value="">100%</option>
          <option value="">50%</option>
          <option value="">0%</option>
        </select>
        <div class="individual" id="descZona">
          CULPA CONDUTOR CTT (%)
        </div>
      </form>
      <form class="médio" action="index.html" method="post">
        <input class="médio" type="text" name="" value="" id="danos" oninput="mostrar()" maxlength="40">
        <div class="individual" id="descZona">
          DANOS DO VEÍCULO
        </div>
      </form>
    </form>
  </div>
  <form class="longo" action="index.html" method="post">
    <div class="desc2" id="descZona" align="">
      DESCRIÇÃO
    </div>
    <textarea class="obs"  name="name" rows="5"  id="descrição" oninput="mostrar()" onfocus=""></textarea>
  </form>

  <! ------------------------------------------------------------- OBJ CC -->
  <form class="curto3" action="index.html" method="post" id="cc">
    <select class="escolha2" name="Piso" id="terceiro" onchange="mostrar()" onfocus="infoEspecialidade()">
      <option value="">Não</option>
      <option value="">Sim</option>

    </select>
    <div class="individual" id="descObjetoCC">
      ACIDENTE COM TERCEIRO
    </div>
  </form>
  <br>

  <form id="terceiroMostrar">
    <!---------------------------------------------------------------condutor-->
    <form class="longo" action="index.html" method="post">
      <div class="desc" id="descZona" align="left">
        IDENTIFICAÇÃO DO TERCEIRO
      </div>
    </form>


    <!---------------------------------------------------------------nome-->
    <form class="médio" action="index.html" method="post" id="terceiroNome">
      <input class="médio" type="text" name="" value="" id="nomeTerceiro" oninput="mostrar()" maxlength="40">
      <div class="individual" id="descZona">
        NOME DO CONDUTOR
      </div>
    </form>
    <!---------------------------------------------------------------matrícula-->
    <form class="curto" action="index.html" method="post" id="terceiroMatrícula">
      <input id="mat3" class="curto2" maxlength="2" align="center" type="text"  oninput="atualizar()">
      <div class="matrícula" id="descZona">
        -
      </div>
      <input id="mat2" class="curto2" maxlength="2" align="center" type="text" oninput="atualizar()">
      <div class="matrícula" id="descZona">
        -
      </div>
      <input id="mat1" class="curto2" maxlength="2" align="center" type="text" oninput="atualizar()">
      <div class="individual" id="descZona">
        MATRÍCULA
      </div>
    </form>
    <!---------------------------------------------------------------nome-->
    <form class="médio" action="index.html" method="post" id="terceiroCompanhia">
      <input class="médio" type="text" name="" value="" id="companhia" oninput="atualizar()" maxlength="15">
      <div class="individual" id="descZona">
        COMPANHIA DE SEGUROS
      </div>
    </form>

    <!---------------------------------------------------------------mecanografico-->
    <form class="curto" action="index.html" method="post" id="terceiroApólice">
      <input class="curto" type="text" name="" value="" id="apólice" oninput="atualizar()" maxlength="20">
      <div class="individual" id="descZona">
        APÓLICE
      </div>
    </form>
  </form>


  <br><br>
  <div class="individual3" align="center">
    <br>
    <div class="submeter" align="center" onclick="submeter()" id="submeterPedido" onfocus="infoSubmeter()">
      SUBMETER PARTICIPAÇÃO
    </div>
    <br>
    <div class="foot" align="right">
      FORMULÁRIO GEF SINISTROS v1.1
    </div>
    <br><br>

  </div>

</body>
</html>
